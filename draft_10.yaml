# Example YAML to get you started quickly.
# Be aware that YAML has indentation based scoping.
# Code completion support is available so start typing for available options.
swagger: '2.0'

# This is your document metadata
info:
  version: "1.0.0"
  title: EHelse Referansekatalog API



################################################################################
#                  Host, Base Path, Schemes and Content Types                  #
################################################################################
host: 37.139.13.117
basePath: /dev/index.php/v1
schemes:
  - http
produces:
  - application/json
consumes:
  - application/json
  
tags:
  - name: Topic
    description: TODO
  - name: Page
    description:  TODO
  - name: Standard
    description:  TODO
  - name: StandardVersion
    description:  TODO
  - name: Profile
    description:  TODO
  - name: ProfileVersion
    description:  TODO
  - name: Field
    description:  TODO
  - name: TargetGroup
    description:  TODO
  - name: Link
    description:  TODO
  - name: LinkCategory
    description:  TODO 
    
  

  
parameters:
  standardId:
    name: standardId
    in: path
    description: ID of 'Standard' 
    required: true
    type: integer
  pageId:
    name: pageId
    in: path
    description: ID of 'Page' 
    required: true
    type: integer
  topicId:
    name: topicId
    in: path
    description: ID of 'Topic' 
    required: true
    type: integer
  standardVersionId:
    name: standardVersionId
    in: path
    description: ID of 'StandardVersion' 
    required: true
    type: integer
  fieldId:
    name: fieldId
    in: path
    description: ID of 'Field' 
    required: true
    type: integer
  profileId:
    name: profileId
    in: path
    description: Id of a 'Profile
    required: true
    type: integer
  profileVersionId:
    name: profileVersionId
    in: path
    description: ID of 'ProfileVersion' 
    required: true
    type: integer
  targetGroupId:
    name: targetGroupId
    in: path
    description: ID of 'TargetGroup' 
    required: true
    type: integer
  linkCategoryId:
    name: linkCategoryId
    in: path
    description: ID of 'LinkCategory' 
    required: true
    type: integer


paths:
  ## standards
  /standards/:
    get:
      tags: 
        - Standard
      description: Gets `Standard` objects.
      responses:
        200:
          description: OK
          schema:
            title: Standards
            type: array
            items:
              $ref: '#/definitions/Standard' 
    post:
      tags: 
        - Standard
      description: Creates a new 'Standard' object.
      parameters:
        - name: standard
          in: body
          required: true
          schema:
            $ref: '#/definitions/Standard'
      responses: 
        201:
          description: Created
          schema:
            $ref: '#/definitions/Standard' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
            
  /standards/{standardId}/:
    get:
      tags: 
        - Standard
      parameters:
        - $ref: "#/parameters/standardId"      
      description: Get a 'Standard' object.
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Standard' 
    put:
      tags: 
        - Standard
      parameters:
        - $ref: "#/parameters/standardId"  
        - name: standard
          in: body
          required: true
          schema:
            $ref: '#/definitions/Standard'
      description: Update a 'Standard' object.
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Standard' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
    delete:
      tags: 
        - Standard
      parameters:
        - $ref: "#/parameters/standardId"   
      description: test
      responses:
        204:
          description: No Content
        401: 
          description: Unauthorized
          
  #standard versions
  /standards/{standardId}/versions/:
    get:
      tags:
        - Standard
        - StandardVersion
      description: Gets 'StandardVersion' objects.
      parameters:
        - $ref: '#/parameters/standardId'
      responses:
        200:
          description: OK
          schema:
            title: StandardVersions
            type: array
            items:
              $ref: '#/definitions/StandardVersion' 
    
    post:
      tags: 
        - Page
      description: Creates a new 'StandardVersion' object.
      parameters:
        - $ref: '#/parameters/standardId'
        - name: page
          in: body
          required: true
          schema:
           $ref: '#/definitions/StandardVersion'
      responses: 
        201:
          description: Created
          schema:
            $ref: '#/definitions/StandardVersion' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
  
          
  /standards/{standardId}/versions/{standardVersionId}/:
    get:
      tags:
        - Standard
        - StandardVersion
      description: Gets 'StandardVersion' objects.
      parameters:
        - $ref: '#/parameters/standardId'
        - $ref: '#/parameters/standardVersionId'
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/StandardVersion' 
    
    put:
      tags: 
        - Standard
        - StandardVersion
      description: Updates a 'StandardVersion' object.
      parameters:
        - $ref: '#/parameters/standardId'
        - $ref: '#/parameters/standardVersionId'
        - name: body
          in: body
          required: true
          schema:
           $ref: '#/definitions/StandardVersion'
      responses: 
        201:
          description: Created
          schema:
            $ref: '#/definitions/StandardVersion' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
          
    delete:
      tags: 
        - Standard
        - StandardVersion
      parameters:
        - $ref: "#/parameters/standardId"   
        - $ref: "#/parameters/standardVersionId"   
      description: Deletes a 'StandardVersion' object.
      responses:
        204:
          description: No Content
        401: 
          description: Unauthorized
          

      
  
  #standard fields        
  /standards/fields/:
    get:
      tags:
        - Standard 
        - Field
      description: Gets 'Field' objects.
      responses:
        200:
          description: OK
          schema:
            title: Fields
            type: array
            items:
              $ref: '#/definitions/Field' 
            
    post:
      tags: 
        - Standard
        - Field
      description: Creates a new 'Field' object.
      parameters:
        - name: body
          in: body
          required: true
          schema:
           $ref: '#/definitions/Field'
      responses: 
        201:
          description: Created
          schema:
            $ref: '#/definitions/Field' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
  
  /standards/fields/{fieldId}/:
    get:
      tags: 
        - Page
      parameters:
        - $ref: "#/parameters/fieldId"      
      description: Get a 'Field' object.
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Field'
    put:
      tags: 
        - Page
      parameters:
        - $ref: "#/parameters/fieldId"   
        - name: page
          in: body
          required: true
          schema:
           $ref: '#/definitions/Field'
      description: Update a 'Field' object.
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Field' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
    delete:
      tags: 
        - Page
      parameters:
        - $ref: "#/parameters/fieldId"   
      description: Deletes a 'Field' object.
      responses:
        204:
          description: No Content
        401: 
          description: Unauthorized
    
    
  
  /profiles/:
    get:
      tags: 
        - Profile
      description: Gets `Profile` objects.
      responses:
        200:
          description: OK
          schema:
            title: Profile
            type: array
            items:
              $ref: '#/definitions/Profile' 
    post:
      tags: 
        - Profile
      description: Creates a new 'Profile' object.
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/Profile'
      responses: 
        201:
          description: Created
          schema:
            $ref: '#/definitions/Profile' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
            
  /profiles/{profileId}/:
    get:
      tags: 
        - Standard
      parameters:
        - $ref: "#/parameters/profileId"      
      description: Get a 'Profile' object.
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Profile' 
    put:
      tags: 
        - Profile
      parameters:
        - $ref: "#/parameters/profileId"  
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/Profile'
      description: Update a 'Profile' object.
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Profile' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
    delete:
      tags: 
        - Profile
      parameters:
        - $ref: "#/parameters/profileId"   
      description: test
      responses:
        204:
          description: No Content
        401: 
          description: Unauthorized
          
  #standard versions
  /profiles/{profileId}/versions/:
    get:
      tags:
        - Profile
        - ProfileVersion
      description: Gets 'ProfileVersion' objects.
      parameters:
        - $ref: '#/parameters/profileId'
      responses:
        200:
          description: OK
          schema:
            title: ProfileVersions
            type: array
            items:
              $ref: '#/definitions/ProfileVersion' 
    
    post:
      tags: 
        - Page
      description: Creates a new 'ProfileVersion' object.
      parameters:
        - $ref: '#/parameters/profileId'
        - name: page
          in: body
          required: true
          schema:
           $ref: '#/definitions/ProfileVersion'
      responses: 
        201:
          description: Created
          schema:
            $ref: '#/definitions/ProfileVersion' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
  
          
  /profiles/{profileId}/versions/{profileVersionId}/:
    get:
      tags:
        - Profile
        - ProfileVersion
      description: Gets 'ProfileVersion' objects.
      parameters:
        - $ref: '#/parameters/profileId'
        - $ref: '#/parameters/profileVersionId'
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/ProfileVersion' 
    
    put:
      tags: 
        - Profile
        - ProfileVersion
      description: Updates a 'ProfileVersion' object.
      parameters:
        - $ref: '#/parameters/profileId'
        - $ref: '#/parameters/profileVersionId'
        - name: body
          in: body
          required: true
          schema:
           $ref: '#/definitions/ProfileVersion'
      responses: 
        201:
          description: Created
          schema:
            $ref: '#/definitions/ProfileVersion' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
          
    delete:
      tags: 
        - Profile
        - ProfileVersion
      parameters:
        - $ref: "#/parameters/profileId"   
        - $ref: "#/parameters/profileVersionId"   
      description: Deletes a 'ProfileVersion' object.
      responses:
        204:
          description: No Content
        401: 
          description: Unauthorized
          

      
  
  #standard fields        
  /profile/fields/:
    get:
      tags:
        - Profile 
        - Field
      description: Gets 'Profile' objects.
      responses:
        200:
          description: OK
          schema:
            title: Fields
            type: array
            items:
              $ref: '#/definitions/Field' 
            
    post:
      tags: 
        - Profile
        - Field
      description: Creates a new 'Profile' object.
      parameters:
        - name: body
          in: body
          required: true
          schema:
           $ref: '#/definitions/Profile'
      responses: 
        201:
          description: Created
          schema:
            $ref: '#/definitions/Field' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
  
  /profiles/fields/{fieldId}/:
    get:
      tags: 
        - Profile
        - Field
      parameters:
        - $ref: "#/parameters/fieldId"      
      description: Get a 'Field' object.
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Field'
    put:
      tags: 
        - Profile
        - Field
      parameters:
        - $ref: "#/parameters/fieldId"   
        - name: body
          in: body
          required: true
          schema:
           $ref: '#/definitions/Field'
      description: Update a 'Field' object.
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Field' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
    delete:
      tags: 
        - Profile
        - Field
      parameters:
        - $ref: "#/parameters/fieldId"   
      description: Deletes a 'Field' object.
      responses:
        204:
          description: No Content
        401: 
          description: Unauthorized
    
    
  
  /pages/:
    get:
      tags:
        - Page
      description: Gets 'Page' objects.
      responses:
        200:
          description: OK
          schema:
            title: ArrayOfPages
            type: array
            items:
              $ref: '#/definitions/Page' 
            
    post:
      tags: 
        - Page
      description: Creates a new 'Page' object.
      parameters:
        - name: page
          in: body
          required: true
          schema:
           $ref: '#/definitions/Page'
      responses: 
        201:
          description: Created
          schema:
            $ref: '#/definitions/Page' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
  
  /pages/{pageId}/:
    get:
      tags: 
        - Page
      parameters:
        - $ref: "#/parameters/pageId"      
      description: Get a 'Page' object.
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Page'
    put:
      tags: 
        - Page
      parameters:
        - $ref: "#/parameters/pageId"   
        - name: page
          in: body
          required: true
          schema:
           $ref: '#/definitions/Page'
      description: Update a 'Page' object.
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Page' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
    delete:
      tags: 
        - Page
      parameters:
        - $ref: "#/parameters/pageId"   
      description: Deletes a 'Page' object.
      responses:
        204:
          description: No Content
        401: 
          description: Unauthorized
          
  /topics/:
    get:
      tags:
        - Topic
      description: Gets 'Topic' objects.
      responses:
        200:
          description: OK
          schema:
            title: Topics
            type: array
            items:
              $ref: '#/definitions/Topic' 
            
    post:
      tags: 
        - Topic
      description: Creates a new 'Topic' object.
      parameters:
        - name: body
          in: body
          required: true
          schema:
           $ref: '#/definitions/Topic'
      responses: 
        201:
          description: Created
          schema:
            $ref: '#/definitions/Topic' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
  
  /topics/{topicId}/:
    get:
      tags: 
        - Topic
      parameters:
        - $ref: "#/parameters/topicId"      
      description: Get a 'Topic' object.
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Topic'
    put:
      tags: 
        - Topic
      parameters:
        - $ref: "#/parameters/topicId"   
        - name: body
          in: body
          required: true
          schema:
           $ref: '#/definitions/Topic'
      description: Update a 'Topic' object.
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/Topic' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
    delete:
      tags: 
        - Page
      parameters:
        - $ref: "#/parameters/topicId"   
      description: Deletes a 'Topic' object.
      responses:
        204:
          description: No Content
        401: 
          description: Unauthorized
       
       
            
  /target_groups/:
    get:
      tags:
        - TargetGroup
      description: Gets 'TargetGroup' objects.
      responses:
        200:
          description: OK
          schema:
            title: Topics
            type: array
            items:
              $ref: '#/definitions/TargetGroup' 
            
    post:
      tags: 
        - TargetGroup
      description: Creates a new 'TargetGroup' object.
      parameters:
        - name: body
          in: body
          required: true
          schema:
           $ref: '#/definitions/TargetGroup'
      responses: 
        201:
          description: Created
          schema:
            $ref: '#/definitions/TargetGroup' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
  
  /target_groups/{targetGroupId}/:
    get:
      tags: 
        - TargetGroup
      parameters:
        - $ref: "#/parameters/targetGroupId"      
      description: Get a 'TargetGroup' object.
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/TargetGroup'
    put:
      tags: 
        - TargetGroup
      parameters:
        - $ref: "#/parameters/targetGroupId"   
        - name: body
          in: body
          required: true
          schema:
           $ref: '#/definitions/TargetGroup'
      description: Update a 'TargetGroup' object.
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/TargetGroup' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
    delete:
      tags: 
        - TargetGroup
      parameters:
        - $ref: "#/parameters/targetGroupId"   
      description: Deletes a 'TargetGroup' object.
      responses:
        204:
          description: No Content
        401: 
          description: Unauthorized
       
 
             
  /link_Categories/:
    get:
      tags:
        - LinkCategory
      description: Gets 'LinkCategory' objects.
      responses:
        200:
          description: OK
          schema:
            title: Topics
            type: array
            items:
              $ref: '#/definitions/LinkCategory' 
            
    post:
      tags: 
        - TargetGroup
      description: Creates a new 'LinkCategory' object.
      parameters:
        - name: body
          in: body
          required: true
          schema:
           $ref: '#/definitions/LinkCategory'
      responses: 
        201:
          description: Created
          schema:
            $ref: '#/definitions/LinkCategory' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
  
  /link_Categories/{linkCategoryId}/:
    get:
      tags: 
        - LinkCategory
      parameters:
        - $ref: "#/parameters/linkCategoryId"      
      description: Get a 'LinkCategory' object.
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/LinkCategory'
    put:
      tags: 
        - LinkCategory
      parameters:
        - $ref: "#/parameters/linkCategoryId"   
        - name: body
          in: body
          required: true
          schema:
           $ref: '#/definitions/LinkCategory'
      description: Update a 'LinkCategory' object.
      responses:
        200:
          description: OK
          schema:
            $ref: '#/definitions/LinkCategory' 
        400:
          description: Bad Request
        401: 
          description: Unauthorized
    delete:
      tags: 
        - LinkCategory
      parameters:
        - $ref: "#/parameters/linkCategoryId"   
      description: Deletes a 'LinkCategory' object.
      responses:
        204:
          description: No Content
        401: 
          description: Unauthorized
       
       
       

 
######################
  
          
definitions:
  Standard:
    type: object
    properties:
        id:
          type: integer
        timestamp:
          type: string
          format: dateTime
        title:
          type: string
        description:
          type: string
        is_in_catalog:
          type: boolean
        sequence:
          type: integer
        topic_id:
          type: integer
          
  StandardVersion:
    type: object
    properties:
      id:
        type: integer
      standardId: 
        type: integer
      targetGroups:
        type: array
        items:
          $ref: '#/definitions/VersionTargetGroup' 
      links:
        type: array
        items:
          type: object
          properties:
            linkCategory:
              $ref: '#/definitions/LinkCategory' 
            links:
              type: array
              items:
                $ref: '#/definitions/Link' 
              
      fields:
        type: array
        items:
          $ref: '#/definitions/FieldValue' 
      
  Profile:
    type: object
    properties:
        id:
          type: integer
        timestamp:
          type: string
          format: dateTime
        title:
          type: string
        description:
          type: string
        is_in_catalog:
          type: boolean
        sequence:
          type: integer
        topic_id:
          type: integer
          
  ProfileVersion:
    type: object
    properties:
      id:
        type: integer
      profileId: 
        type: integer
      standardVersionId: 
        type: integer
      documentVersionId: 
        type: integer
  Topic:
    type: object
    properties:
      id: 
        type: integer
      timestamp: 
        type: string
        format: dateTime
      title:
        type: string
      description:
        type: string
      number:
        type: string
      is_in_catalog:
        type: boolean
      sequense: 
        type: integer
      parent:
        type: integer
        
  Page:
    type: object
    properties:
      id: 
        type: integer
      timestamp: 
        type: string
        format: dateTime
      title:
        type: string
      content:
        type: string
      sequence:
        type: integer
      topic_id:
        type: integer
        
  FieldType:
    type: object
    properties:
      id: 
        type: integer
      title:
        type: string
        
  Field:
    type: object
    properties:
      id:
        type: integer
      title:
        type: string
      description:
        type: string
      sequence:
        type: integer
      fieldType: 
          $ref: '#/definitions/FieldType' 
      mandatory:
        type: boolean
        
  FieldValue:
    type: object
    properties:
      value:
        type: object
        properties:
          string:
            type: string
          date:
            type: string
            format: date
          integer:
            type: integer
      Field:
        $ref: '#/definitions/Field' 
        
  TargetGroup:
    type: object
    properties:
      id:
        type: integer
      name:
        type: string
      description:
        type: integer
        
  VersionTargetGroup:
    type: object
    properties:
      id:
        type: integer
      deadline:
        type: string
      mandatory:
        type: string
      description:
        type: string
      targetGroup:
        $ref: '#/definitions/TargetGroup'
      action:
        type: string
        
  Link:
    type: object
    properties:
      id:
        type: integer
      text:
        type: string
      description:
        type: string
      url:
        type: string
        format: url
        
  LinkCategory:
    type: object
    properties:
      id:
        type: integer
      name:
        type: string
      description:
        type: string

    
    
              